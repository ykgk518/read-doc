序文 1999年の春、私は小規模ながらも急成長を遂げているアプリケーション開発会社ThoughtWorks社のプロジェクトのコンサルティングのためにシカゴに飛びました。そのプロジェクトは、バックエンドリースシステムという野心的なエンタープライズアプリケーションプロジェクトの一つでした。基本的には、契約後のリースに発生するすべてのことを処理します。請求書の発送、リース中の資産のアップグレードの処理、滞納者の追跡、資産の早期返却時の対応などです。リース契約は無限に変化に富み、非常に複雑であることを理解するまでは、それはあまり悪いことではないように聞こえます。ビジネス ³"ロジック³"は、すべての後に、それは奇妙な小さなバリエーションが契約を獲得する上ですべての違いを作ることができますビジネスをキャプチャするためにビジネスの人々によって書かれているので、任意の論理的なパターンに適合することはほとんどありません。それらの小さな勝利のそれぞれは、システムにさらに複雑さを追加します。それは私が興奮するようなものです。
そのような複雑さをすべて考慮して、問題をより扱いやすくするオブジェクトのシステムをどのように考え出すか。実際、私は、オブジェクトの主な利点は、複雑なロジックを扱いやすくすることにあると考えています。複雑なビジネス問題に対して優れたドメインモデル(116)を開発するのは難しいことですが、非常に満足感があります。しかし、問題はそれだけではありません。私たちのドメインモデルはデータベースに永続化されなければならず、多くのプロジェクトと同様にリレーショナルデータベースを使用していました。また、このモデルをユーザーインターフェースに接続し、リモートアプリケーションがソフトウェアを使用できるようにサポートし、サードパーティのパッケージとソフトウェアを統合しなければなりませんでした。これらすべてをJ2EEと呼ばれる新しい技術の上で行っていましたが、世界中の誰もが実際に使用した経験がありませんでした。この技術が新しいものであったにもかかわらず、私たちには経験という利点がありました。私はC++、Smalltalk、CORBAで何年も前からこの種のことをやっていました。ThoughtWorkerの多くは、Forteを使った経験が豊富でした。私たちの頭の中にはすでに主要なアーキテクチャのアイデアがあったので、それをどうやってJ2EEに適用するかを考えればよかったのです。3年後に振り返ってみると、設計は 完璧ではないが 時の試練に耐えてきた この本はそのような状況のために書かれました。長年にわたり、私は多くのエンタープライズ・アプリケーション・プロジェクトを見てきました。これらのプロジェクトには、エンタープライズ・アプリケーションが持つ避けられない複雑さに対処する上で効果的であることが証明されている類似のデザイン・アイデアが含まれていることがよくあります。本書は、これらの設計アイデアをパターンとして捉えるための出発点です。本書は2つの部分から構成されており、最初の部分では、エンタープライズ・アプリケーションの設計における多くの重要なトピックについての物語的な章のセットがあります。これらの章では、エンタープライズ・アプリケーションのアーキテクチャにおけるさまざまな問題とその解決策が紹介されています。しかし、これらの解決策についてはあまり詳しく書かれていません。解決策の詳細は第2部にあり、パターンとして整理されています。これらのパターンは参考になるものであり、あなたがそれらを一通り読むことを期待しているわけではありません。私の意図は、第1部の物語の章を最初から最後まで読んで、この本がカバーしている内容の大まかなイメージを掴んでいただき、その後、第2部のパターンの章を興味やニーズに合わせて読み進めていただくことです。このように、この本は短い物語の本です。
スペースと時間に制約があったり、思考力がなかったりするので、本書には出てこないでしょう。近い将来、この作品のためにいくつかのパターンを期待することしかできません。もしかしたら、いつか第2巻を出して、これらのトピックに入るかもしれませんし、他の誰かがこれらやその他のギャップを埋めてくれるかもしれません。これらの中でも、メッセージベースのコミュニケーションは特に大きな問題です。複数のアプリケーションを統合している人たちは、非同期のメッセージベースの通信アプローチを利用することが多くなってきています。アプリケーション内での使用についても、多くのことが語られています。本書は特定のソフトウェアプラットフォームに特化したものではありません。私が最初にこれらのパターンに出会ったのは、80年代後半から90年代前半にかけてSmalltalk、C++、CORBAを使って仕事をしていた時でした。90年代後半にはJavaで大規模な作業をするようになり、これらのパターンが初期のJava/CORBAシステムとそれ以降のJ2EEベースの作業の両方にうまく適用されることがわかりました。最近では、Microsoftの.NETプラットフォームで初期の作業を行っていましたが、このパターンが再び適用されていることに気付きました。ThoughtWorksの同僚も、特にForteでの経験を紹介してくれています。一般性を主張することはできません。
と長めの参考書を1冊にまとめた これは、エンタープライズ・アプリケーションの設計に関する本です。エンタープライズ・アプリケーションとは、多くの場合複雑なデータを大量に表示、操作、保存することと、そのデータを使ったビジネス・プロセスのサポートや自動化に関するものです。例としては、予約システム、金融システム、サプライチェーンシステムなど、現代のビジネスを動かす多くのものが挙げられます。エンタープライズ・アプリケーションには独自の課題とソリューションがあり、組み込みシステム、制御システム、テレコム、デスクトップ生産性ソフトウェアとは異なります。したがって、もしあなたがこれらの他の分野で仕事をしているのであれば、この本には何も書かれていません(エンタープライズアプリケーションがどのようなものかを理解したいのであれば別ですが)。エンタープライズアプリケーションを構築する上で、アーキテクチャの問題はたくさんあります。この本はそれらを総合的に解説した本にはなり得ないと思いますが ソフトウェアを構築する上で、私は反復開発の大いなる信奉者です。反復開発の中心にあるのは、たとえそれが
完全ではありません。本を書くこととソフトウェアを書くことには多くの違いがありますが、この考え方はこの 2 つに共通していると思います。とはいえ、本書は不完全ではありますが、エンタープライズ・アプリケーション・アーキテクチャに関するアドバイスの有用な大要であると思います(私は信じています)。私が話している主なトピックは、以下の通りです。 エンタープライズアプリケーションのレイヤリング - ドメイン（ビジネス）ロジックの構築 - ウェブユーザインタフェースの構築 - インメモリモジュール（特にオブジェクト）とリレーショナルデータベースのリンク - ステートレス環境でのセッション状態の処理 - ディストリビューションの原則 私が話していないことのリストは、もっと長くなります。検証の整理、メッセージングと非同期通信の組み込み、セキュリティ、エラー処理、クラスタリング、アプリケーション統合、アーキテクチャのリファクタリング、リッチクライアントのユーザインタフェースの構造化などについて書きたいと思っていました。しかし。

しかし、これまでのところ、これらのパターンは十分に有用な再帰性を示しています。私はほとんどのパターンについてコード例を提供しています。私が選んだ言語は、ほとんどの読者が読んで理解できると思われるものに基づいています。ここではJavaが良い選択です。CやC++が読める人なら誰でもJavaを読むことができますが、JavaはC++よりもはるかに複雑ではありません。本質的にほとんどのC++プログラマーはJavaを読めるが、その逆はできない。私はオブジェクト・ビゴットなので、必然的にOO言語に傾いてしまいます。その結果、コード例のほとんどはJavaで書かれています。私がこの本に取り組んでいたとき、Microsoftはその.NET環境の安定化を始め、そのC#言語は著者にとってJavaと同じ特性のほとんどを持っていました。開発者は.NETをあまり経験していないので、.NETをうまく使うためのイディオムが成熟していないので、リスクはありますが、C#でもコード例のいくつかを作成しました。どちらもC言語をベースにした言語なので、片方を読めれば、その言語やプラットフォームに詳しくなくても両方読めるはずです。私が目指したのは、最も多くのソフトウェア開発者が読める言語を使うことで、たとえそれが彼らの主要な言語や好みの言語ではないとしても、それを使うことです。(Smalltalk、Delphi、Visual Basic、Perl、Python、Ruby、COBOL、その他の言語が好きな方には申し訳ありません。あなたはJavaやC#よりも優れた言語を知っていると思っているのでしょうが、私が言えるのは、私は知っている、ということです。私が言えるのは、私も知っているということだけです！) これらの例は、パターンの中のアイデアのひらめきと説明のためにあります。これらは定型的な解決策ではありません。どのような場合でも、あなたのアプリケーションに適合させるためにはかなりの作業が必要です。

パターンは有用な出発点ではあるが、目的地ではない。本書は誰のために書かれたのか 本書は、エンタープライズ・アプリケーションを構築しているプログラマー、デザイナー、アーキテクトで、アーキテ クチャの問題についての理解やコミュニケーションを向上させたいと考えている人のために書きました。私は、読者のほとんどが2つのグループに分類されることを想定しています：自分自身のソフトウェアを構築しようとしている控えめなニーズを持つ読者と、ツールを使用することになるより厳しいニーズを持つ読者です。控えめなニーズをお持ちの方には、これらのパターンを参考にしていただければと思います。多くの分野では、パターンが提供する以上のものが必要になるでしょうが、私はこの分野で私が得たものよりも多くのヘッドスタートをあなたに提供します。ツールユーザーの方には、この本が何が起こっているのかをある程度理解していただき、ツールでサポートされているパターンの中からどのパターンを使用するかを選択するのに役立つことを願っています。例えば、オブジェクトリレーショナルマッピングツールを使用する場合でも、特定の状況をどのようにマッピングするかを決定しなければなりません。パターンを読むことで、選択する際の指針が得られるはずです。3つ目のカテゴリーは、自分でソフトウェアを構築したいというニーズの高い人たちです。ここで私が最初に言うことは、ツールの使い方を慎重に見ることです。私は、フレームワークを構築するための長い練習に吸い込まれてしまい、プロジェクトの本当の目的ではないものになってしまったプロジェクトを複数見てきました。それでも納得できるのであれば、先に進んでください。この場合、本書のコード例の多くは理解を助けるために意図的に簡略化されていることを覚えておいてください。
John Brewer Rob Mee Kyle Brown Gerard Meszaros Jens Coldewey Dirk Riehle John Crupi Randy Stafford Leonard Fenster David Siegel Alan Knight Kai Yu ここにThoughtWorksの電話帳を並べてもいいくらいです。多くの才能あるデザイナーと話す機会があったからこそ、多くのパターンが頭の中に浮かびました。カイル・ブラウン、レイチェル・ライニッツ、ボビー・ウールフの3人は、ノースカロライナ州の私と長時間に渡って詳細なレビューセッションを行ってくれました。彼らの細かい歯の櫛は、この特に凶悪な混合比喩を含めて、あらゆる種類の知恵を注入しました。特に、私はカイルとの長い電話のやり取りを何度か楽しみましたが、それは私がリストアップできる以上のものでした。2000年の初め、私はアラン・ナイトとカイ・ユーとのJava Oneでの講演を準備しました。その際に彼らの助けを借りたことに感謝すると同時に、後になってこれらの講演やアイデアに磨きをかけるのを手伝ってくれたジョシュ・マッケンジー、レベッカ・パーソンズ、デイブ・ライスにも感謝しなければなりません。Jim Newkirk は、私が .NET の新しい世界に慣れるための手助けをしてくれました。この分野で働いている多くの人たちから多くのことを学びました。特に、Colleen Roe、David Muirhead、Randy Staffordには、GemstoneでFoodsmartサンプルシステムの作業を共有してくれたことに感謝したいと思います。また、Bruce Eckelが主催したCrested Butteのワークショップでは素晴らしい会話をすることができましたし、ここ数年、そのイベントに参加したすべての人々に感謝しなければなりません。ジョシュア・ケリエフスキーはフルレビューをする時間がありませんでしたが、彼は素晴らしいパターン・コンサルタントでした。
いつものように、私はUIUC読書会のユニークなブランドの禁句のオーディオレビューの顕著な助けを持っていました。私の感謝。Ariel Gertzenstein、Bosko Zivaljevic、Brad Jones、Brian Foote、Brian Marick、Federico Balaguer、Joseph Yoder、John Brant、Mike Hewner、Ralph Johnson、そしてWeerasak Witthawaskul。元UIUCの殺し屋であるドラゴス・マノレスクは、私にフィードバックを与えるために彼自身のグループを集めてくれました。Muhammad Anan、Brian Doyle、Emad Ghosheh、Glenn Graessle、Daniel Hein、Prabhaharan Kumarakulasingam、Joe Quint、John Reinke、Kevin Reynolds、Sripriya Srinivasan、そしてTirumala Vaddirajuに感謝します。ケント・ベックは、私が覚えている以上に多くの良いアイデアを与えてくれました。しかし、彼が『スペシャル・ケース』(496)の名前を思いついたことは覚えている。ジム・オデルは、私をコンサルティング、教育、執筆の世界へと導いてくれました。この本を書いている間、私はウェブ上に下書きを載せていました。この間、多くの人が問題点を指摘したり、質問をしたり、代替案について話したりするメールを送ってくれました。これらの人たちは以下のような人たちでした。

マイケル・バンクス、マーク・バーンスタイン、グラハム・ベリスフォード、ビョルン・ベスコウ、ブライアン・ボレハム、ショーン・ブロードリー、ペリス・ブロツキー、ポール・キャンベル、チェスター・チェン、ジョン・コークリー、ボブ・コリック、パスカル・コスタンザ、アンディ・ツェルンカ、マーティン・ディール、ダニエル・ドラシンなど。ファン・ゴメス・ドゥアソ、ドン・ドギンス、ピーター・フォアマン、ラッセル・フリーマン、ピーター・ガスマン、ジェイソン・ゴーマン、ダン・グリーン、ラース・グレゴリ、リック・ハンセン、トビン・ハリス、ラッセル・ヒーリー、クリスチャン・ヘラー、リチャード・ヘンダーソン、カイル・ヘルメニアン、カーステン・ヘイル 平澤明、エリック・カーン、カーク・クネルンシルト、イェスパー・ラデガード、クリス・ロペス、パオロ・マリーノ、ジェレミー・ミラー、イヴァン・ミトロヴィッチ、トーマス・ノイマン、ジュディ・オビー、パオロ・パロベル、トレバー・ピンクニー、トーマス・レストレポ、ジョエル・リーダー、マシュー・ロバーツ Stefan Roock, Ken Rosha, Andy Schneider, Alexandre Semenov, Stan Silvert, Geoff Soutter, Volker Termath, Christopher Thames, Volker Turau, Knut Wannheden, Marc Wallace, Stefan Wenig, Brad Wiemerslage, Mark Windholtz, Michael Yoon. 他にも、私が知らなかったり、名前を覚えていなかったりするような多くの人が情報を提供してくれましたが、私の感謝の気持ちは変わらず、心の底からのものです。私の最大の感謝は、これまでと同様、妻のシンディです。

私がこの本を評価することができるのは、誰よりもはるかに感謝している会社である Colophon これは私がXMLとその関連技術を使って書いた初めての本です。マスターテキストは、信頼できるTextPadを使ってXMLドキュメントのシリーズとして書かれました。自作のDTDも使いました。私が作業をしている間、HTMLサイトのウェブページを生成するためにXSLTを使用しました。図については、旧友のVisioを頼りに、Pavel Hrubyの素晴らしいUMLテンプレートを使いました（ツールに付属しているものよりもはるかに優れています。必要であれば、私のウェブサイトにリンクがあります。) 私は、出力にコード例を自動的にインポートする小さなプログラムを書きました。最初の草稿では、Apache FOPを使ったXSL-FOを試してみました。その時はまだ十分な機能を持っていなかったので、その後の作業のために、XSLT と Ruby でスクリプトを書いて FrameMaker にテキストをインポートしました。この本を執筆する際には、いくつかのオープンソースツールを使用しましたが、特に JUnit, NUnit, ant, Xerces, Xalan, Tomcat, Jboss, Ruby, そして Hsql です。これらのツールの多くの開発者に感謝します。また、商用ツールのリストも充実していました。特に、Visual Studio for .NETとIntelliJの素晴らしいアイデア（Smalltalk以来、私を興奮させてくれた最初のIDE、Java用）に頼りました。この本は、Addison WesleyのためにMike Hendricksonによって手に入れられましたが、彼はRoss Venablesの援助を受けて、その出版を監督しました。私は2000年11月に原稿を書き始め、2002年6月に最終草稿を発表しました。これを書いている間に、この本は2002年11月にOOPSLAでリリースされる予定です。サラ・ウィーバーは制作編集者で、編集、構成、校正、索引付け、最終ファイルの制作を調整しました。Dianne Woodはコピー編集者であり、私の英語を不必要な洗練を導入せずにきれいにするというトリッキーな仕事をしてくれました。Kim Arney Mulcahyは、この本をここで見るようなデザインに構成し、図をきれいにし、Sabonでテキストをセットし、最終的なFramemakerのファイルをプリンター用に準備しました。テキストのデザインは、リファクタリングで使用したフォーマットに基づいています。Cheryl Fergusonはページを校正し、隙間から抜け落ちたエラーを見つけ出しました。Irv Hershmanは索引を準備しました。表紙の写真について 私がこの本を書くのに費やした数年間、ボストンではもっと重要な建設プロジェクトが進行していた。レナード・P・ザキム・バンカーヒル橋（道路標識にその名前を付けてみてください）は、現在、チャールズ川に架かっている州間高速道路93号線を運ぶ醜い二階建ての橋に取って代わることになっています。ザキム橋は斜張橋で、これまでのところアメリカでは広く使われていませんが、ヨーロッパでは非常に人気があります。ザキム橋は特に長い橋ではありませんが、世界で最も幅の広い斜張橋であり、アメリカで初めて非対称のデザインを採用した斜張橋でもあります。とても美しい橋ですが、ヘンリー・ペトロスキーの「もうすぐ斜張橋の大失敗が起きる」という予測について、シンディをからかうのはやめられません。マーティン・ファウラー、メルローズ、マサチューセッツ州、2002年8月
